!function (a, b, c, d) {
    var e = !0; !function (b) { if ("function" == typeof require && "object" == typeof exports && "object" == typeof module) { var c = module.exports || exports; b(c) } else "function" == typeof define && define.amd ? define(["exports"], b) : b(a.ko = {}) }(function (f) {
        function h(a) { var b = this; if (a) for (var c in a) { var d = g.extenders[c]; "function" == typeof d && (b = d(b, a[c])) } return b } function n(a, b, c) { c && b !== g.selectExtensions.readValue(a) && g.selectExtensions.writeValue(a, b), b !== g.selectExtensions.readValue(a) && g.utils.triggerEvent(a, "change") } var g = "undefined" != typeof f ? f : {}; g.exportSymbol = function (a, b) { for (var c = a.split("."), d = g, e = 0; e < c.length - 1; e++) d = d[c[e]]; d[c[c.length - 1]] = b }, g.exportProperty = function (a, b, c) { a[b] = c }, g.version = "2.1.0", g.exportSymbol("version", g.version), g.utils = new function () { function r(a, b) { if ("input" !== g.utils.tagNameLower(a) || !a.type) return !1; if ("click" != b.toLowerCase()) return !1; var c = a.type; return "checkbox" == c || "radio" == c } var e = /^(\s|\u00A0)+|(\s|\u00A0)+$/g, f = {}, h = {}, i = /Firefox\/2/i.test(c.userAgent) ? "KeyboardEvent" : "UIEvents"; f[i] = ["keyup", "keydown", "keypress"], f.MouseEvents = ["click", "dblclick", "mousedown", "mouseup", "mousemove", "mouseover", "mouseout", "mouseenter", "mouseleave"]; for (var j in f) { var k = f[j]; if (k.length) for (var l = 0, m = k.length; l < m; l++) h[k[l]] = j } var n = { propertychange: !0 }, o = function () { for (var a = 3, c = b.createElement("div"), e = c.getElementsByTagName("i") ; c.innerHTML = "<!--[if gt IE " + ++a + "]><i></i><![endif]-->", e[0];); return a > 4 ? a : d }(), p = 6 === o, q = 7 === o; return { fieldsIncludedWithJsonPost: ["authenticity_token", /^__RequestVerificationToken(_.*)?$/], arrayForEach: function (a, b) { for (var c = 0, d = a.length; c < d; c++) b(a[c]) }, arrayIndexOf: function (a, b) { if ("function" == typeof Array.prototype.indexOf) return Array.prototype.indexOf.call(a, b); for (var c = 0, d = a.length; c < d; c++) if (a[c] === b) return c; return -1 }, arrayFirst: function (a, b, c) { for (var d = 0, e = a.length; d < e; d++) if (b.call(c, a[d])) return a[d]; return null }, arrayRemoveItem: function (a, b) { var c = g.utils.arrayIndexOf(a, b); c >= 0 && a.splice(c, 1) }, arrayGetDistinctValues: function (a) { a = a || []; for (var b = [], c = 0, d = a.length; c < d; c++) g.utils.arrayIndexOf(b, a[c]) < 0 && b.push(a[c]); return b }, arrayMap: function (a, b) { a = a || []; for (var c = [], d = 0, e = a.length; d < e; d++) c.push(b(a[d])); return c }, arrayFilter: function (a, b) { a = a || []; for (var c = [], d = 0, e = a.length; d < e; d++) b(a[d]) && c.push(a[d]); return c }, arrayPushAll: function (a, b) { if (b instanceof Array) a.push.apply(a, b); else for (var c = 0, d = b.length; c < d; c++) a.push(b[c]); return a }, extend: function (a, b) { if (b) for (var c in b) b.hasOwnProperty(c) && (a[c] = b[c]); return a }, emptyDomNode: function (a) { for (; a.firstChild;) g.removeNode(a.firstChild) }, moveCleanedNodesToContainerElement: function (a) { for (var c = g.utils.makeArray(a), d = b.createElement("div"), e = 0, f = c.length; e < f; e++) g.cleanNode(c[e]), d.appendChild(c[e]); return d }, setDomNodeChildren: function (a, b) { if (g.utils.emptyDomNode(a), b) for (var c = 0, d = b.length; c < d; c++) a.appendChild(b[c]) }, replaceDomNodes: function (a, b) { var c = a.nodeType ? [a] : a; if (c.length > 0) { for (var d = c[0], e = d.parentNode, f = 0, h = b.length; f < h; f++) e.insertBefore(b[f], d); for (var f = 0, h = c.length; f < h; f++) g.removeNode(c[f]) } }, setOptionNodeSelectionState: function (a, b) { c.userAgent.indexOf("MSIE 6") >= 0 ? a.setAttribute("selected", b) : a.selected = b }, stringTrim: function (a) { return (a || "").replace(e, "") }, stringTokenize: function (a, b) { for (var c = [], d = (a || "").split(b), e = 0, f = d.length; e < f; e++) { var h = g.utils.stringTrim(d[e]); "" !== h && c.push(h) } return c }, stringStartsWith: function (a, b) { return a = a || "", !(b.length > a.length) && a.substring(0, b.length) === b }, buildEvalWithinScopeFunction: function (a, b) { for (var c = "return (" + a + ")", d = 0; d < b; d++) c = "with(sc[" + d + "]) { " + c + " } "; return new Function("sc", c) }, domNodeIsContainedBy: function (a, b) { if (b.compareDocumentPosition) return 16 == (16 & b.compareDocumentPosition(a)); for (; null != a;) { if (a == b) return !0; a = a.parentNode } return !1 }, domNodeIsAttachedToDocument: function (a) { return g.utils.domNodeIsContainedBy(a, a.ownerDocument) }, tagNameLower: function (a) { return a && a.tagName && a.tagName.toLowerCase() }, registerEventHandler: function (a, b, c) { var d = o && n[b]; if (d || "undefined" == typeof jQuery) if (d || "function" != typeof a.addEventListener) { if ("undefined" == typeof a.attachEvent) throw new Error("Browser doesn't support addEventListener or attachEvent"); a.attachEvent("on" + b, function (b) { c.call(a, b) }) } else a.addEventListener(b, c, !1); else { if (r(a, b)) { var e = c; c = function (a, b) { var c = this.checked; b && (this.checked = b.checkedStateBeforeEvent !== !0), e.call(this, a), this.checked = c } } jQuery(a).bind(b, c) } }, triggerEvent: function (c, d) { if (!c || !c.nodeType) throw new Error("element must be a DOM node when calling triggerEvent"); if ("undefined" != typeof jQuery) { var e = []; r(c, d) && e.push({ checkedStateBeforeEvent: c.checked }), jQuery(c).trigger(d, e) } else if ("function" == typeof b.createEvent) { if ("function" != typeof c.dispatchEvent) throw new Error("The supplied element doesn't support dispatchEvent"); var f = h[d] || "HTMLEvents", g = b.createEvent(f); g.initEvent(d, !0, !0, a, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, c), c.dispatchEvent(g) } else { if ("undefined" == typeof c.fireEvent) throw new Error("Browser doesn't support triggering events"); r(c, d) && (c.checked = c.checked !== !0), c.fireEvent("on" + d) } }, unwrapObservable: function (a) { return g.isObservable(a) ? a() : a }, toggleDomNodeCssClass: function (a, b, c) { var d = (a.className || "").split(/\s+/), e = g.utils.arrayIndexOf(d, b) >= 0; if (c && !e) a.className += (d[0] ? " " : "") + b; else if (e && !c) { for (var f = "", h = 0; h < d.length; h++) d[h] != b && (f += d[h] + " "); a.className = g.utils.stringTrim(f) } }, setTextContent: function (a, b) { var c = g.utils.unwrapObservable(b); null !== c && c !== d || (c = ""), "innerText" in a ? a.innerText = c : a.textContent = c, o >= 9 && (a.style.display = a.style.display) }, ensureSelectElementIsRenderedCorrectly: function (a) { if (o >= 9) { var b = a.style.width; a.style.width = 0, a.style.width = b } }, range: function (a, b) { a = g.utils.unwrapObservable(a), b = g.utils.unwrapObservable(b); for (var c = [], d = a; d <= b; d++) c.push(d); return c }, makeArray: function (a) { for (var b = [], c = 0, d = a.length; c < d; c++) b.push(a[c]); return b }, isIe6: p, isIe7: q, ieVersion: o, getFormFields: function (a, b) { for (var c = g.utils.makeArray(a.getElementsByTagName("input")).concat(g.utils.makeArray(a.getElementsByTagName("textarea"))), d = "string" == typeof b ? function (a) { return a.name === b } : function (a) { return b.test(a.name) }, e = [], f = c.length - 1; f >= 0; f--) d(c[f]) && e.push(c[f]); return e }, parseJson: function (b) { return "string" == typeof b && (b = g.utils.stringTrim(b)) ? a.JSON && a.JSON.parse ? a.JSON.parse(b) : new Function("return " + b)() : null }, stringifyJson: function (a, b, c) { if ("undefined" == typeof JSON || "undefined" == typeof JSON.stringify) throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"); return JSON.stringify(g.utils.unwrapObservable(a), b, c) }, postJson: function (a, c, d) { d = d || {}; var e = d.params || {}, f = d.includeFields || this.fieldsIncludedWithJsonPost, h = a; if ("object" == typeof a && "form" === g.utils.tagNameLower(a)) { var i = a; h = i.action; for (var j = f.length - 1; j >= 0; j--) for (var k = g.utils.getFormFields(i, f[j]), l = k.length - 1; l >= 0; l--) e[k[l].name] = k[l].value } c = g.utils.unwrapObservable(c); var m = b.createElement("form"); m.style.display = "none", m.action = h, m.method = "post"; for (var n in c) { var o = b.createElement("input"); o.name = n, o.value = g.utils.stringifyJson(g.utils.unwrapObservable(c[n])), m.appendChild(o) } for (var n in e) { var o = b.createElement("input"); o.name = n, o.value = e[n], m.appendChild(o) } b.body.appendChild(m), d.submitter ? d.submitter(m) : m.submit(), setTimeout(function () { m.parentNode.removeChild(m) }, 0) } } }, g.exportSymbol("utils", g.utils), g.exportSymbol("utils.arrayForEach", g.utils.arrayForEach), g.exportSymbol("utils.arrayFirst", g.utils.arrayFirst), g.exportSymbol("utils.arrayFilter", g.utils.arrayFilter), g.exportSymbol("utils.arrayGetDistinctValues", g.utils.arrayGetDistinctValues), g.exportSymbol("utils.arrayIndexOf", g.utils.arrayIndexOf), g.exportSymbol("utils.arrayMap", g.utils.arrayMap), g.exportSymbol("utils.arrayPushAll", g.utils.arrayPushAll), g.exportSymbol("utils.arrayRemoveItem", g.utils.arrayRemoveItem), g.exportSymbol("utils.extend", g.utils.extend), g.exportSymbol("utils.fieldsIncludedWithJsonPost", g.utils.fieldsIncludedWithJsonPost), g.exportSymbol("utils.getFormFields", g.utils.getFormFields), g.exportSymbol("utils.postJson", g.utils.postJson), g.exportSymbol("utils.parseJson", g.utils.parseJson), g.exportSymbol("utils.registerEventHandler", g.utils.registerEventHandler), g.exportSymbol("utils.stringifyJson", g.utils.stringifyJson), g.exportSymbol("utils.range", g.utils.range), g.exportSymbol("utils.toggleDomNodeCssClass", g.utils.toggleDomNodeCssClass), g.exportSymbol("utils.triggerEvent", g.utils.triggerEvent), g.exportSymbol("utils.unwrapObservable", g.utils.unwrapObservable), Function.prototype.bind || (Function.prototype.bind = function (a) { var b = this, c = Array.prototype.slice.call(arguments), a = c.shift(); return function () { return b.apply(a, c.concat(Array.prototype.slice.call(arguments))) } }), g.utils.domData = new function () { var a = 0, b = "__ko__" + (new Date).getTime(), c = {}; return { get: function (a, b) { var c = g.utils.domData.getAll(a, !1); return c === d ? d : c[b] }, set: function (a, b, c) { if (c !== d || g.utils.domData.getAll(a, !1) !== d) { var e = g.utils.domData.getAll(a, !0); e[b] = c } }, getAll: function (e, f) { var g = e[b], h = g && "null" !== g; if (!h) { if (!f) return d; g = e[b] = "ko" + a++, c[g] = {} } return c[g] }, clear: function (a) { var d = a[b]; d && (delete c[d], a[b] = null) } } }, g.exportSymbol("utils.domData", g.utils.domData), g.exportSymbol("utils.domData.clear", g.utils.domData.clear), g.utils.domNodeDisposal = new function () { function e(b, c) { var e = g.utils.domData.get(b, a); return e === d && c && (e = [], g.utils.domData.set(b, a, e)), e } function f(b) { g.utils.domData.set(b, a, d) } function h(a) { var b = e(a, !1); if (b) { b = b.slice(0); for (var d = 0; d < b.length; d++) b[d](a) } g.utils.domData.clear(a), "function" == typeof jQuery && "function" == typeof jQuery.cleanData && jQuery.cleanData([a]), c[a.nodeType] && i(a) } function i(a) { for (var b, c = a.firstChild; b = c;) c = b.nextSibling, 8 === b.nodeType && h(b) } var a = "__ko_domNodeDisposal__" + (new Date).getTime(), b = { 1: !0, 8: !0, 9: !0 }, c = { 1: !0, 9: !0 }; return { addDisposeCallback: function (a, b) { if ("function" != typeof b) throw new Error("Callback must be a function"); e(a, !0).push(b) }, removeDisposeCallback: function (a, b) { var c = e(a, !1); c && (g.utils.arrayRemoveItem(c, b), 0 == c.length && f(a)) }, cleanNode: function (a) { if (b[a.nodeType] && (h(a), c[a.nodeType])) { var d = []; g.utils.arrayPushAll(d, a.getElementsByTagName("*")); for (var e = 0, f = d.length; e < f; e++) h(d[e]) } }, removeNode: function (a) { g.cleanNode(a), a.parentNode && a.parentNode.removeChild(a) } } }, g.cleanNode = g.utils.domNodeDisposal.cleanNode, g.removeNode = g.utils.domNodeDisposal.removeNode, g.exportSymbol("cleanNode", g.cleanNode), g.exportSymbol("removeNode", g.removeNode), g.exportSymbol("utils.domNodeDisposal", g.utils.domNodeDisposal), g.exportSymbol("utils.domNodeDisposal.addDisposeCallback", g.utils.domNodeDisposal.addDisposeCallback), g.exportSymbol("utils.domNodeDisposal.removeDisposeCallback", g.utils.domNodeDisposal.removeDisposeCallback), function () { function e(c) { var d = g.utils.stringTrim(c).toLowerCase(), e = b.createElement("div"), f = d.match(/^<(thead|tbody|tfoot)/) && [1, "<table>", "</table>"] || !d.indexOf("<tr") && [2, "<table><tbody>", "</tbody></table>"] || (!d.indexOf("<td") || !d.indexOf("<th")) && [3, "<table><tbody><tr>", "</tr></tbody></table>"] || [0, "", ""], h = "ignored<div>" + f[1] + c + f[2] + "</div>"; for ("function" == typeof a.innerShiv ? e.appendChild(a.innerShiv(h)) : e.innerHTML = h; f[0]--;) e = e.lastChild; return g.utils.makeArray(e.lastChild.childNodes) } function f(a) { var b = jQuery.clean([a]); if (b && b[0]) { for (var c = b[0]; c.parentNode && 11 !== c.parentNode.nodeType;) c = c.parentNode; c.parentNode && c.parentNode.removeChild(c) } return b } g.utils.parseHtmlFragment = function (a) { return "undefined" != typeof jQuery ? f(a) : e(a) }, g.utils.setHtml = function (a, b) { if (g.utils.emptyDomNode(a), null !== b && b !== d) if ("string" != typeof b && (b = b.toString()), "undefined" != typeof jQuery) jQuery(a).html(b); else for (var c = g.utils.parseHtmlFragment(b), e = 0; e < c.length; e++) a.appendChild(c[e]) } }(), g.exportSymbol("utils.parseHtmlFragment", g.utils.parseHtmlFragment), g.exportSymbol("utils.setHtml", g.utils.setHtml), g.memoization = function () { function b() { return (4294967296 * (1 + Math.random()) | 0).toString(16).substring(1) } function c() { return b() + b() } function e(a, b) { if (a) if (8 == a.nodeType) { var c = g.memoization.parseMemoText(a.nodeValue); null != c && b.push({ domNode: a, memoId: c }) } else if (1 == a.nodeType) for (var d = 0, f = a.childNodes, h = f.length; d < h; d++) e(f[d], b) } var a = {}; return { memoize: function (b) { if ("function" != typeof b) throw new Error("You can only pass a function to ko.memoization.memoize()"); var d = c(); return a[d] = b, "<!--[ko_memo:" + d + "]-->" }, unmemoize: function (b, c) { var e = a[b]; if (e === d) throw new Error("Couldn't find any memo with ID " + b + ". Perhaps it's already been unmemoized."); try { return e.apply(null, c || []), !0 } finally { delete a[b] } }, unmemoizeDomNodeAndDescendants: function (a, b) { var c = []; e(a, c); for (var d = 0, f = c.length; d < f; d++) { var h = c[d].domNode, i = [h]; b && g.utils.arrayPushAll(i, b), g.memoization.unmemoize(c[d].memoId, i), h.nodeValue = "", h.parentNode && h.parentNode.removeChild(h) } }, parseMemoText: function (a) { var b = a.match(/^\[ko_memo\:(.*?)\]$/); return b ? b[1] : null } } }(), g.exportSymbol("memoization", g.memoization), g.exportSymbol("memoization.memoize", g.memoization.memoize), g.exportSymbol("memoization.unmemoize", g.memoization.unmemoize), g.exportSymbol("memoization.parseMemoText", g.memoization.parseMemoText), g.exportSymbol("memoization.unmemoizeDomNodeAndDescendants", g.memoization.unmemoizeDomNodeAndDescendants), g.extenders = { throttle: function (a, b) { a.throttleEvaluation = b; var c = null; return g.dependentObservable({ read: a, write: function (d) { clearTimeout(c), c = setTimeout(function () { a(d) }, b) } }) }, notify: function (a, b) { return a.equalityComparer = "always" == b ? function () { return !1 } : g.observable.fn.equalityComparer, a } }, g.exportSymbol("extenders", g.extenders), g.subscription = function (a, b, c) { this.target = a, this.callback = b, this.disposeCallback = c, g.exportProperty(this, "dispose", this.dispose) }, g.subscription.prototype.dispose = function () { this.isDisposed = !0, this.disposeCallback() }, g.subscribable = function () { this._subscriptions = {}, g.utils.extend(this, g.subscribable.fn), g.exportProperty(this, "subscribe", this.subscribe), g.exportProperty(this, "extend", this.extend), g.exportProperty(this, "getSubscriptionsCount", this.getSubscriptionsCount) }; var i = "change"; g.subscribable.fn = { subscribe: function (a, b, c) { c = c || i; var d = b ? a.bind(b) : a, e = new g.subscription(this, d, function () { g.utils.arrayRemoveItem(this._subscriptions[c], e) }.bind(this)); return this._subscriptions[c] || (this._subscriptions[c] = []), this._subscriptions[c].push(e), e }, notifySubscribers: function (a, b) { b = b || i, this._subscriptions[b] && g.utils.arrayForEach(this._subscriptions[b].slice(0), function (b) { b && b.isDisposed !== !0 && b.callback(a) }) }, getSubscriptionsCount: function () { var a = 0; for (var b in this._subscriptions) this._subscriptions.hasOwnProperty(b) && (a += this._subscriptions[b].length); return a }, extend: h }, g.isSubscribable = function (a) { return "function" == typeof a.subscribe && "function" == typeof a.notifySubscribers }, g.exportSymbol("subscribable", g.subscribable), g.exportSymbol("isSubscribable", g.isSubscribable), g.dependencyDetection = function () { var a = []; return { begin: function (b) { a.push({ callback: b, distinctDependencies: [] }) }, end: function () { a.pop() }, registerDependency: function (b) { if (!g.isSubscribable(b)) throw new Error("Only subscribable things can act as dependencies"); if (a.length > 0) { var c = a[a.length - 1]; if (g.utils.arrayIndexOf(c.distinctDependencies, b) >= 0) return; c.distinctDependencies.push(b), c.callback(b) } } } }(); var j = { undefined: !0, boolean: !0, number: !0, string: !0 }; g.observable = function (a) { function c() { return arguments.length > 0 ? (c.equalityComparer && c.equalityComparer(b, arguments[0]) || (c.valueWillMutate(), b = arguments[0], e && (c._latestValue = b), c.valueHasMutated()), this) : (g.dependencyDetection.registerDependency(c), b) } var b = a; return e && (c._latestValue = b), g.subscribable.call(c), c.valueHasMutated = function () { c.notifySubscribers(b) }, c.valueWillMutate = function () { c.notifySubscribers(b, "beforeChange") }, g.utils.extend(c, g.observable.fn), g.exportProperty(c, "valueHasMutated", c.valueHasMutated), g.exportProperty(c, "valueWillMutate", c.valueWillMutate), c }, g.observable.fn = { equalityComparer: function (b, c) { var d = null === b || typeof b in j; return !!d && b === c } }; var k = g.observable.protoProperty = "__ko_proto__"; g.observable.fn[k] = g.observable, g.hasPrototype = function (a, b) { return null !== a && a !== d && a[k] !== d && (a[k] === b || g.hasPrototype(a[k], b)) }, g.isObservable = function (a) { return g.hasPrototype(a, g.observable) }, g.isWriteableObservable = function (a) { return "function" == typeof a && a[k] === g.observable || !("function" != typeof a || a[k] !== g.dependentObservable || !a.hasWriteFunction) }, g.exportSymbol("observable", g.observable), g.exportSymbol("isObservable", g.isObservable), g.exportSymbol("isWriteableObservable", g.isWriteableObservable), g.observableArray = function (a) { if (0 == arguments.length && (a = []), null !== a && a !== d && !("length" in a)) throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined."); var b = g.observable(a); return g.utils.extend(b, g.observableArray.fn), b }, g.observableArray.fn = { remove: function (a) { for (var b = this(), c = [], d = "function" == typeof a ? a : function (b) { return b === a }, e = 0; e < b.length; e++) { var f = b[e]; d(f) && (0 === c.length && this.valueWillMutate(), c.push(f), b.splice(e, 1), e--) } return c.length && this.valueHasMutated(), c }, removeAll: function (a) { if (a === d) { var b = this(), c = b.slice(0); return this.valueWillMutate(), b.splice(0, b.length), this.valueHasMutated(), c } return a ? this.remove(function (b) { return g.utils.arrayIndexOf(a, b) >= 0 }) : [] }, destroy: function (a) { var b = this(), c = "function" == typeof a ? a : function (b) { return b === a }; this.valueWillMutate(); for (var d = b.length - 1; d >= 0; d--) { var e = b[d]; c(e) && (b[d]._destroy = !0) } this.valueHasMutated() }, destroyAll: function (a) { return a === d ? this.destroy(function () { return !0 }) : a ? this.destroy(function (b) { return g.utils.arrayIndexOf(a, b) >= 0 }) : [] }, indexOf: function (a) { var b = this(); return g.utils.arrayIndexOf(b, a) }, replace: function (a, b) { var c = this.indexOf(a); c >= 0 && (this.valueWillMutate(), this()[c] = b, this.valueHasMutated()) } }, g.utils.arrayForEach(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function (a) { g.observableArray.fn[a] = function () { var b = this(); this.valueWillMutate(); var c = b[a].apply(b, arguments); return this.valueHasMutated(), c } }), g.utils.arrayForEach(["slice"], function (a) { g.observableArray.fn[a] = function () { var b = this(); return b[a].apply(b, arguments) } }), g.exportSymbol("observableArray", g.observableArray), g.dependentObservable = function (a, b, c) { function m() { g.utils.arrayForEach(l, function (a) { a.dispose() }), l = [] } function s() { var a = u.throttleEvaluation; a && a >= 0 ? (clearTimeout(r), r = setTimeout(t, a)) : t() } function t() { if (!i) { if (h && p()) return void n(); i = !0; try { var a = g.utils.arrayMap(l, function (a) { return a.target }); g.dependencyDetection.begin(function (b) { var c; (c = g.utils.arrayIndexOf(a, b)) >= 0 ? a[c] = d : l.push(b.subscribe(s)) }); for (var c = j.call(b), k = a.length - 1; k >= 0; k--) a[k] && l.splice(k, 1)[0].dispose(); h = !0, u.notifySubscribers(f, "beforeChange"), f = c, e && (u._latestValue = f) } finally { g.dependencyDetection.end() } u.notifySubscribers(f), i = !1 } } function u() { return arguments.length > 0 ? void v.apply(u, arguments) : w() } function v() { if ("function" != typeof k) throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters."); k.apply(b, arguments) } function w() { return h || t(), g.dependencyDetection.registerDependency(u), f } var f, h = !1, i = !1, j = a; if (j && "object" == typeof j ? (c = j, j = c.read) : (c = c || {}, j || (j = c.read)), "function" != typeof j) throw new Error("Pass a function that returns the value of the ko.computed"); var k = c.write; b || (b = c.owner); var l = [], n = m, o = "object" == typeof c.disposeWhenNodeIsRemoved ? c.disposeWhenNodeIsRemoved : null, p = c.disposeWhen || function () { return !1 }; if (o) { n = function () { g.utils.domNodeDisposal.removeDisposeCallback(o, arguments.callee), m() }, g.utils.domNodeDisposal.addDisposeCallback(o, n); var q = p; p = function () { return !g.utils.domNodeIsAttachedToDocument(o) || q() } } var r = null; return u.getDependenciesCount = function () { return l.length }, u.hasWriteFunction = "function" == typeof c.write, u.dispose = function () { n() }, g.subscribable.call(u), g.utils.extend(u, g.dependentObservable.fn), c.deferEvaluation !== !0 && t(), g.exportProperty(u, "dispose", u.dispose), g.exportProperty(u, "getDependenciesCount", u.getDependenciesCount), u }, g.isComputed = function (a) { return g.hasPrototype(a, g.dependentObservable) }; var l = g.observable.protoProperty; g.dependentObservable[l] = g.observable, g.dependentObservable.fn = {}, g.dependentObservable.fn[l] = g.dependentObservable, g.exportSymbol("dependentObservable", g.dependentObservable), g.exportSymbol("computed", g.dependentObservable), g.exportSymbol("isComputed", g.isComputed), function () { function b(a, f, g) { g = g || new e, a = f(a); var h = "object" == typeof a && null !== a && a !== d && !(a instanceof Date); if (!h) return a; var i = a instanceof Array ? [] : {}; return g.save(a, i), c(a, function (c) { var e = f(a[c]); switch (typeof e) { case "boolean": case "number": case "string": case "function": i[c] = e; break; case "object": case "undefined": var h = g.get(e); i[c] = h !== d ? h : b(e, f, g) } }), i } function c(a, b) { if (a instanceof Array) { for (var c = 0; c < a.length; c++) b(c); "function" == typeof a.toJSON && b("toJSON") } else for (var d in a) b(d) } function e() { var a = [], b = []; this.save = function (c, d) { var e = g.utils.arrayIndexOf(a, c); e >= 0 ? b[e] = d : (a.push(c), b.push(d)) }, this.get = function (c) { var e = g.utils.arrayIndexOf(a, c); return e >= 0 ? b[e] : d } } var a = 10; g.toJS = function (c) { if (0 == arguments.length) throw new Error("When calling ko.toJS, pass the object you want to convert."); return b(c, function (b) { for (var c = 0; g.isObservable(b) && c < a; c++) b = b(); return b }) }, g.toJSON = function (a, b, c) { var d = g.toJS(a); return g.utils.stringifyJson(d, b, c) } }(), g.exportSymbol("toJS", g.toJS), g.exportSymbol("toJSON", g.toJSON), function () { var a = "__ko__hasDomDataOptionValue__"; g.selectExtensions = { readValue: function (b) { switch (g.utils.tagNameLower(b)) { case "option": return b[a] === !0 ? g.utils.domData.get(b, g.bindingHandlers.options.optionValueDomDataKey) : b.getAttribute("value"); case "select": return b.selectedIndex >= 0 ? g.selectExtensions.readValue(b.options[b.selectedIndex]) : d; default: return b.value } }, writeValue: function (b, c) { switch (g.utils.tagNameLower(b)) { case "option": switch (typeof c) { case "string": g.utils.domData.set(b, g.bindingHandlers.options.optionValueDomDataKey, d), a in b && delete b[a], b.value = c; break; default: g.utils.domData.set(b, g.bindingHandlers.options.optionValueDomDataKey, c), b[a] = !0, b.value = "number" == typeof c ? c : "" } break; case "select": for (var e = b.options.length - 1; e >= 0; e--) if (g.selectExtensions.readValue(b.options[e]) == c) { b.selectedIndex = e; break } break; default: null !== c && c !== d || (c = ""), b.value = c } } } }(), g.exportSymbol("selectExtensions", g.selectExtensions), g.exportSymbol("selectExtensions.readValue", g.selectExtensions.readValue), g.exportSymbol("selectExtensions.writeValue", g.selectExtensions.writeValue), g.jsonExpressionRewriting = function () { function d(b, c) { for (var d = null; b != d;) d = b, b = b.replace(a, function (a, b) { return c[b] }); return b } function e(a) { return !(g.utils.arrayIndexOf(c, g.utils.stringTrim(a).toLowerCase()) >= 0) && null !== a.match(b) } function f(a) { var b = g.utils.stringTrim(a); switch (b.length && b.charAt(0)) { case "'": case '"': return a; default: return "'" + b + "'" } } var a = /\@ko_token_(\d+)\@/g, b = /^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i, c = ["true", "false"]; return { bindingRewriteValidators: [], parseObjectLiteral: function (a) { var b = g.utils.stringTrim(a); if (b.length < 3) return []; "{" === b.charAt(0) && (b = b.substring(1, b.length - 1)); for (var f, c = [], e = null, h = 0; h < b.length; h++) { var i = b.charAt(h); if (null === e) switch (i) { case '"': case "'": case "/": e = h, f = i } else if (i == f && "\\" !== b.charAt(h - 1)) { var j = b.substring(e, h + 1); c.push(j); var k = "@ko_token_" + (c.length - 1) + "@"; b = b.substring(0, e) + k + b.substring(h + 1), h -= j.length - k.length, e = null } } e = null, f = null; for (var l = 0, m = null, h = 0; h < b.length; h++) { var i = b.charAt(h); if (null === e) switch (i) { case "{": e = h, m = i, f = "}"; break; case "(": e = h, m = i, f = ")"; break; case "[": e = h, m = i, f = "]" } if (i === m) l++; else if (i === f && (l--, 0 === l)) { var j = b.substring(e, h + 1); c.push(j); var k = "@ko_token_" + (c.length - 1) + "@"; b = b.substring(0, e) + k + b.substring(h + 1), h -= j.length - k.length, e = null } } for (var n = [], o = b.split(","), p = 0, q = o.length; p < q; p++) { var r = o[p], s = r.indexOf(":"); if (s > 0 && s < r.length - 1) { var t = r.substring(0, s), u = r.substring(s + 1); n.push({ key: d(t, c), value: d(u, c) }) } else n.push({ unknown: d(r, c) }) } return n }, insertPropertyAccessorsIntoJson: function (a) { for (var h, b = "string" == typeof a ? g.jsonExpressionRewriting.parseObjectLiteral(a) : a, c = [], d = [], i = 0; h = b[i]; i++) if (c.length > 0 && c.push(","), h.key) { var j = f(h.key), k = h.value; c.push(j), c.push(":"), c.push(k), e(g.utils.stringTrim(k)) && (d.length > 0 && d.push(", "), d.push(j + " : function(__ko_value) { " + k + " = __ko_value; }")) } else h.unknown && c.push(h.unknown); var l = c.join(""); if (d.length > 0) { var m = d.join(""); l = l + ", '_ko_property_writers' : { " + m + " } " } return l }, keyValueArrayContainsKey: function (a, b) { for (var c = 0; c < a.length; c++) if (g.utils.stringTrim(a[c].key) == b) return !0; return !1 }, writeValueToProperty: function (a, b, c, d, e) { if (a && g.isWriteableObservable(a)) e && a() === d || a(d); else { var f = b()._ko_property_writers; f && f[c] && f[c](d) } } } }(), g.exportSymbol("jsonExpressionRewriting", g.jsonExpressionRewriting), g.exportSymbol("jsonExpressionRewriting.bindingRewriteValidators", g.jsonExpressionRewriting.bindingRewriteValidators), g.exportSymbol("jsonExpressionRewriting.parseObjectLiteral", g.jsonExpressionRewriting.parseObjectLiteral), g.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson", g.jsonExpressionRewriting.insertPropertyAccessorsIntoJson), function () { function f(b) { return 8 == b.nodeType && (a ? b.text : b.nodeValue).match(c) } function h(b) { return 8 == b.nodeType && (a ? b.text : b.nodeValue).match(d) } function i(a, b) { for (var c = a, d = 1, e = []; c = c.nextSibling;) { if (h(c) && (d--, 0 === d)) return e; e.push(c), f(c) && d++ } if (!b) throw new Error("Cannot find closing comment tag to match: " + a.nodeValue); return null } function j(a, b) { var c = i(a, b); return c ? c.length > 0 ? c[c.length - 1].nextSibling : a.nextSibling : null } function k(a) { var b = a.firstChild, c = null; if (b) do if (c) c.push(b); else if (f(b)) { var d = j(b, !0); d ? b = d : c = [b] } else h(b) && (c = [b]); while (b = b.nextSibling); return c } var a = "<!--test-->" === b.createComment("test").text, c = a ? /^<!--\s*ko\s+(.*\:.*)\s*-->$/ : /^\s*ko\s+(.*\:.*)\s*$/, d = a ? /^<!--\s*\/ko\s*-->$/ : /^\s*\/ko\s*$/, e = { ul: !0, ol: !0 }; g.virtualElements = { allowedBindings: {}, childNodes: function (a) { return f(a) ? i(a) : a.childNodes }, emptyNode: function (a) { if (f(a)) for (var b = g.virtualElements.childNodes(a), c = 0, d = b.length; c < d; c++) g.removeNode(b[c]); else g.utils.emptyDomNode(a) }, setDomNodeChildren: function (a, b) { if (f(a)) { g.virtualElements.emptyNode(a); for (var c = a.nextSibling, d = 0, e = b.length; d < e; d++) c.parentNode.insertBefore(b[d], c) } else g.utils.setDomNodeChildren(a, b) }, prepend: function (a, b) { f(a) ? a.parentNode.insertBefore(b, a.nextSibling) : a.firstChild ? a.insertBefore(b, a.firstChild) : a.appendChild(b) }, insertAfter: function (a, b, c) { f(a) ? a.parentNode.insertBefore(b, c.nextSibling) : c.nextSibling ? a.insertBefore(b, c.nextSibling) : a.appendChild(b) }, firstChild: function (a) { return f(a) ? !a.nextSibling || h(a.nextSibling) ? null : a.nextSibling : a.firstChild }, nextSibling: function (a) { return f(a) && (a = j(a)), a.nextSibling && h(a.nextSibling) ? null : a.nextSibling }, virtualNodeBindingValue: function (a) { var b = f(a); return b ? b[1] : null }, normaliseVirtualElementDomStructure: function (a) { if (e[g.utils.tagNameLower(a)]) { var b = a.firstChild; if (b) do if (1 === b.nodeType) { var c = k(b); if (c) for (var d = b.nextSibling, f = 0; f < c.length; f++) d ? a.insertBefore(c[f], d) : a.appendChild(c[f]) } while (b = b.nextSibling) } } } }(), g.exportSymbol("virtualElements", g.virtualElements), g.exportSymbol("virtualElements.allowedBindings", g.virtualElements.allowedBindings), g.exportSymbol("virtualElements.emptyNode", g.virtualElements.emptyNode), g.exportSymbol("virtualElements.insertAfter", g.virtualElements.insertAfter), g.exportSymbol("virtualElements.prepend", g.virtualElements.prepend), g.exportSymbol("virtualElements.setDomNodeChildren", g.virtualElements.setDomNodeChildren), function () { function b(a, b, d) { var e = b + "_" + a; return d[e] || (d[e] = c(a, b)) } function c(a, b) { var c = " { " + g.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(a) + " } "; return g.utils.buildEvalWithinScopeFunction(c, b) } var a = "data-bind"; g.bindingProvider = function () { this.bindingCache = {} }, g.utils.extend(g.bindingProvider.prototype, { nodeHasBindings: function (b) { switch (b.nodeType) { case 1: return null != b.getAttribute(a); case 8: return null != g.virtualElements.virtualNodeBindingValue(b); default: return !1 } }, getBindings: function (a, b) { var c = this.getBindingsString(a, b); return c ? this.parseBindingsString(c, b) : null }, getBindingsString: function (b, c) { switch (b.nodeType) { case 1: return b.getAttribute(a); case 8: return g.virtualElements.virtualNodeBindingValue(b); default: return null } }, parseBindingsString: function (a, c) { try { var d = c.$data, e = "object" == typeof d && null != d ? [d, c] : [c], f = b(a, e.length, this.bindingCache); return f(e) } catch (b) { throw new Error("Unable to parse bindings.\nMessage: " + b + ";\nBindings value: " + a) } } }), g.bindingProvider.instance = new g.bindingProvider }(), g.exportSymbol("bindingProvider", g.bindingProvider), function () {
            function b(a) { var b = g.virtualElements.allowedBindings[a]; if (!b) throw new Error("The binding '" + a + "' cannot be used with virtual elements") } function c(a, b, c) { for (var d, f = g.virtualElements.firstChild(b) ; d = f;) f = g.virtualElements.nextSibling(d), e(a, d, c) } function e(a, b, d) { var e = !0, h = 1 === b.nodeType; h && g.virtualElements.normaliseVirtualElementDomStructure(b); var i = h && d || g.bindingProvider.instance.nodeHasBindings(b); i && (e = f(b, null, a, d).shouldBindDescendants), e && c(a, b, !h) } function f(a, c, e, f) { function j(a) { return function () { return i[a] } } function k() { return i } var i, l, h = 0; return g.dependentObservable(function () { var m = e && e instanceof g.bindingContext ? e : new g.bindingContext(g.utils.unwrapObservable(e)), n = m.$data; f && g.storedBindingContextForNode(a, m); var o = "function" == typeof c ? c() : c; if (i = o || g.bindingProvider.instance.getBindings(a, m)) { if (0 === h) { h = 1; for (var p in i) { var q = g.bindingHandlers[p]; if (q && 8 === a.nodeType && b(p), q && "function" == typeof q.init) { var r = q.init, s = r(a, j(p), k, n, m); if (s && s.controlsDescendantBindings) { if (l !== d) throw new Error("Multiple bindings (" + l + " and " + p + ") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element."); l = p } } } h = 2 } if (2 === h) for (var p in i) { var q = g.bindingHandlers[p]; if (q && "function" == typeof q.update) { var t = q.update; t(a, j(p), k, n, m) } } } }, null, { disposeWhenNodeIsRemoved: a }), { shouldBindDescendants: l === d } } g.bindingHandlers = {}, g.bindingContext = function (a, b) { b ? (g.utils.extend(this, b), this.$parentContext = b, this.$parent = b.$data, this.$parents = (b.$parents || []).slice(0), this.$parents.unshift(this.$parent)) : (this.$parents = [], this.$root = a), this.$data = a }, g.bindingContext.prototype.createChildContext = function (a) { return new g.bindingContext(a, this) }, g.bindingContext.prototype.extend = function (a) { var b = g.utils.extend(new g.bindingContext, this); return g.utils.extend(b, a) }; var h = "__ko_bindingContext__"; g.storedBindingContextForNode = function (a, b) { return 2 != arguments.length ? g.utils.domData.get(a, h) : void g.utils.domData.set(a, h, b) }, g.applyBindingsToNode = function (a, b, c) { return 1 === a.nodeType && g.virtualElements.normaliseVirtualElementDomStructure(a), f(a, b, c, !0) }, g.applyBindingsToDescendants = function (a, b) { 1 !== b.nodeType && 8 !== b.nodeType || c(a, b, !0) }, g.applyBindings = function (b, c) { if (c && 1 !== c.nodeType && 8 !== c.nodeType) throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"); c = c || a.document.body, e(b, c, !0) }, g.contextFor = function (a) { switch (a.nodeType) { case 1: case 8: var b = g.storedBindingContextForNode(a); if (b) return b; if (a.parentNode) return g.contextFor(a.parentNode) } return d }, g.dataFor = function (a) { var b = g.contextFor(a); return b ? b.$data : d }, g.exportSymbol("bindingHandlers", g.bindingHandlers), g.exportSymbol("applyBindings", g.applyBindings), g.exportSymbol("applyBindingsToDescendants", g.applyBindingsToDescendants), g.exportSymbol("applyBindingsToNode", g.applyBindingsToNode), g.exportSymbol("contextFor", g.contextFor),
            g.exportSymbol("dataFor", g.dataFor)
        }(); var m = ["click"]; g.utils.arrayForEach(m, function (a) { g.bindingHandlers[a] = { init: function (b, c, d, e) { var f = function () { var b = {}; return b[a] = c(), b }; return g.bindingHandlers.event.init.call(this, b, f, d, e) } } }), g.bindingHandlers.event = { init: function (a, b, c, d) { var e = b() || {}; for (var f in e) !function () { var e = f; "string" == typeof e && g.utils.registerEventHandler(a, e, function (a) { var f, h = b()[e]; if (h) { var i = c(); try { var j = g.utils.makeArray(arguments); j.unshift(d), f = h.apply(d, j) } finally { f !== !0 && (a.preventDefault ? a.preventDefault() : a.returnValue = !1) } var k = i[e + "Bubble"] !== !1; k || (a.cancelBubble = !0, a.stopPropagation && a.stopPropagation()) } }) }() } }, g.bindingHandlers.submit = { init: function (a, b, c, d) { if ("function" != typeof b()) throw new Error("The value for a submit binding must be a function"); g.utils.registerEventHandler(a, "submit", function (c) { var e, f = b(); try { e = f.call(d, a) } finally { e !== !0 && (c.preventDefault ? c.preventDefault() : c.returnValue = !1) } }) } }, g.bindingHandlers.visible = { update: function (a, b) { var c = g.utils.unwrapObservable(b()), d = !("none" == a.style.display); c && !d ? a.style.display = "" : !c && d && (a.style.display = "none") } }, g.bindingHandlers.enable = { update: function (a, b) { var c = g.utils.unwrapObservable(b()); c && a.disabled ? a.removeAttribute("disabled") : c || a.disabled || (a.disabled = !0) } }, g.bindingHandlers.disable = { update: function (a, b) { g.bindingHandlers.enable.update(a, function () { return !g.utils.unwrapObservable(b()) }) } }, g.bindingHandlers.value = { init: function (a, b, c) { var d = ["change"], e = c().valueUpdate; e && ("string" == typeof e && (e = [e]), g.utils.arrayPushAll(d, e), d = g.utils.arrayGetDistinctValues(d)); var f = function () { var d = b(), e = g.selectExtensions.readValue(a); g.jsonExpressionRewriting.writeValueToProperty(d, c, "value", e, !0) }, h = g.utils.ieVersion && "input" == a.tagName.toLowerCase() && "text" == a.type && "off" != a.autocomplete && (!a.form || "off" != a.form.autocomplete); if (h && g.utils.arrayIndexOf(d, "propertychange") == -1) { var i = !1; g.utils.registerEventHandler(a, "propertychange", function () { i = !0 }), g.utils.registerEventHandler(a, "blur", function () { i && (i = !1, f()) }) } g.utils.arrayForEach(d, function (b) { var c = f; g.utils.stringStartsWith(b, "after") && (c = function () { setTimeout(f, 0) }, b = b.substring("after".length)), g.utils.registerEventHandler(a, b, c) }) }, update: function (a, b) { var c = "select" === g.utils.tagNameLower(a), d = g.utils.unwrapObservable(b()), e = g.selectExtensions.readValue(a), f = d != e; if (0 === d && 0 !== e && "0" !== e && (f = !0), f) { var h = function () { g.selectExtensions.writeValue(a, d) }; h(); var i = c; i && setTimeout(h, 0) } c && a.length > 0 && n(a, d, !1) } }, g.bindingHandlers.options = { update: function (a, c, e) { if ("select" !== g.utils.tagNameLower(a)) throw new Error("options binding applies only to SELECT elements"); var f = 0 == a.length, h = g.utils.arrayMap(g.utils.arrayFilter(a.childNodes, function (a) { return a.tagName && "option" === g.utils.tagNameLower(a) && a.selected }), function (a) { return g.selectExtensions.readValue(a) || a.innerText || a.textContent }), i = a.scrollTop, j = g.utils.unwrapObservable(c()); for (a.value; a.length > 0;) g.cleanNode(a.options[0]), a.remove(0); if (j) { var l = e(); if ("number" != typeof j.length && (j = [j]), l.optionsCaption) { var m = b.createElement("option"); g.utils.setHtml(m, l.optionsCaption), g.selectExtensions.writeValue(m, d), a.appendChild(m) } for (var o = 0, p = j.length; o < p; o++) { var m = b.createElement("option"), q = "string" == typeof l.optionsValue ? j[o][l.optionsValue] : j[o]; q = g.utils.unwrapObservable(q), g.selectExtensions.writeValue(m, q); var s, r = l.optionsText; s = "function" == typeof r ? r(j[o]) : "string" == typeof r ? j[o][r] : q, null !== s && s !== d || (s = ""), g.utils.setTextContent(m, s), a.appendChild(m) } for (var t = a.getElementsByTagName("option"), u = 0, o = 0, p = t.length; o < p; o++) g.utils.arrayIndexOf(h, g.selectExtensions.readValue(t[o])) >= 0 && (g.utils.setOptionNodeSelectionState(t[o], !0), u++); a.scrollTop = i, f && "value" in l && n(a, g.utils.unwrapObservable(l.value), !0), g.utils.ensureSelectElementIsRenderedCorrectly(a) } } }, g.bindingHandlers.options.optionValueDomDataKey = "__ko.optionValueDomData__", g.bindingHandlers.selectedOptions = { getSelectedValuesFromSelectNode: function (a) { for (var b = [], c = a.childNodes, d = 0, e = c.length; d < e; d++) { var f = c[d], h = g.utils.tagNameLower(f); if ("option" == h && f.selected) b.push(g.selectExtensions.readValue(f)); else if ("optgroup" == h) { var i = g.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(f); Array.prototype.splice.apply(b, [b.length, 0].concat(i)) } } return b }, init: function (a, b, c) { g.utils.registerEventHandler(a, "change", function () { var a = b(), d = g.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this); g.jsonExpressionRewriting.writeValueToProperty(a, c, "value", d) }) }, update: function (a, b) { if ("select" != g.utils.tagNameLower(a)) throw new Error("values binding applies only to SELECT elements"); var c = g.utils.unwrapObservable(b()); if (c && "number" == typeof c.length) for (var d = a.childNodes, e = 0, f = d.length; e < f; e++) { var h = d[e]; "option" === g.utils.tagNameLower(h) && g.utils.setOptionNodeSelectionState(h, g.utils.arrayIndexOf(c, g.selectExtensions.readValue(h)) >= 0) } } }, g.bindingHandlers.text = { update: function (a, b) { g.utils.setTextContent(a, b()) } }, g.bindingHandlers.html = { init: function () { return { controlsDescendantBindings: !0 } }, update: function (a, b) { var c = g.utils.unwrapObservable(b()); g.utils.setHtml(a, c) } }, g.bindingHandlers.css = { update: function (a, b) { var c = g.utils.unwrapObservable(b() || {}); for (var d in c) if ("string" == typeof d) { var e = g.utils.unwrapObservable(c[d]); g.utils.toggleDomNodeCssClass(a, d, e) } } }, g.bindingHandlers.style = { update: function (a, b) { var c = g.utils.unwrapObservable(b() || {}); for (var d in c) if ("string" == typeof d) { var e = g.utils.unwrapObservable(c[d]); a.style[d] = e || "" } } }, g.bindingHandlers.uniqueName = { init: function (a, c) { c() && (a.name = "ko_unique_" + ++g.bindingHandlers.uniqueName.currentIndex, (g.utils.isIe6 || g.utils.isIe7) && a.mergeAttributes(b.createElement("<input name='" + a.name + "'/>"), !1)) } }, g.bindingHandlers.uniqueName.currentIndex = 0, g.bindingHandlers.checked = { init: function (a, b, c) { var d = function () { var d; if ("checkbox" == a.type) d = a.checked; else { if ("radio" != a.type || !a.checked) return; d = a.value } var e = b(); if ("checkbox" == a.type && g.utils.unwrapObservable(e) instanceof Array) { var f = g.utils.arrayIndexOf(g.utils.unwrapObservable(e), a.value); a.checked && f < 0 ? e.push(a.value) : !a.checked && f >= 0 && e.splice(f, 1) } else g.jsonExpressionRewriting.writeValueToProperty(e, c, "checked", d, !0) }; g.utils.registerEventHandler(a, "click", d), "radio" != a.type || a.name || g.bindingHandlers.uniqueName.init(a, function () { return !0 }) }, update: function (a, b) { var c = g.utils.unwrapObservable(b()); "checkbox" == a.type ? c instanceof Array ? a.checked = g.utils.arrayIndexOf(c, a.value) >= 0 : a.checked = c : "radio" == a.type && (a.checked = a.value == c) } }; var o = { class: "className", for: "htmlFor" }; g.bindingHandlers.attr = { update: function (a, b, c) { var e = g.utils.unwrapObservable(b()) || {}; for (var f in e) if ("string" == typeof f) { var h = g.utils.unwrapObservable(e[f]), i = h === !1 || null === h || h === d; i && a.removeAttribute(f), g.utils.ieVersion <= 8 && f in o ? (f = o[f], i ? a.removeAttribute(f) : a[f] = h) : i || a.setAttribute(f, h.toString()) } } }, g.bindingHandlers.hasfocus = { init: function (a, b, c) { var d = function (a) { var d = b(); g.jsonExpressionRewriting.writeValueToProperty(d, c, "hasfocus", a, !0) }; g.utils.registerEventHandler(a, "focus", function () { d(!0) }), g.utils.registerEventHandler(a, "focusin", function () { d(!0) }), g.utils.registerEventHandler(a, "blur", function () { d(!1) }), g.utils.registerEventHandler(a, "focusout", function () { d(!1) }) }, update: function (a, b) { var c = g.utils.unwrapObservable(b()); c ? a.focus() : a.blur(), g.utils.triggerEvent(a, c ? "focusin" : "focusout") } }, g.bindingHandlers.with = { makeTemplateValueAccessor: function (a) { return function () { var b = a(); return { if: b, data: b, templateEngine: g.nativeTemplateEngine.instance } } }, init: function (a, b, c, d, e) { return g.bindingHandlers.template.init(a, g.bindingHandlers.with.makeTemplateValueAccessor(b)) }, update: function (a, b, c, d, e) { return g.bindingHandlers.template.update(a, g.bindingHandlers.with.makeTemplateValueAccessor(b), c, d, e) } }, g.jsonExpressionRewriting.bindingRewriteValidators.with = !1, g.virtualElements.allowedBindings.with = !0, g.bindingHandlers.if = { makeTemplateValueAccessor: function (a) { return function () { return { if: a(), templateEngine: g.nativeTemplateEngine.instance } } }, init: function (a, b, c, d, e) { return g.bindingHandlers.template.init(a, g.bindingHandlers.if.makeTemplateValueAccessor(b)) }, update: function (a, b, c, d, e) { return g.bindingHandlers.template.update(a, g.bindingHandlers.if.makeTemplateValueAccessor(b), c, d, e) } }, g.jsonExpressionRewriting.bindingRewriteValidators.if = !1, g.virtualElements.allowedBindings.if = !0, g.bindingHandlers.ifnot = { makeTemplateValueAccessor: function (a) { return function () { return { ifnot: a(), templateEngine: g.nativeTemplateEngine.instance } } }, init: function (a, b, c, d, e) { return g.bindingHandlers.template.init(a, g.bindingHandlers.ifnot.makeTemplateValueAccessor(b)) }, update: function (a, b, c, d, e) { return g.bindingHandlers.template.update(a, g.bindingHandlers.ifnot.makeTemplateValueAccessor(b), c, d, e) } }, g.jsonExpressionRewriting.bindingRewriteValidators.ifnot = !1, g.virtualElements.allowedBindings.ifnot = !0, g.bindingHandlers.foreach = { makeTemplateValueAccessor: function (a) { return function () { var b = g.utils.unwrapObservable(a()); return b && "number" != typeof b.length ? { foreach: b.data, includeDestroyed: b.includeDestroyed, afterAdd: b.afterAdd, beforeRemove: b.beforeRemove, afterRender: b.afterRender, templateEngine: g.nativeTemplateEngine.instance } : { foreach: b, templateEngine: g.nativeTemplateEngine.instance } } }, init: function (a, b, c, d, e) { return g.bindingHandlers.template.init(a, g.bindingHandlers.foreach.makeTemplateValueAccessor(b)) }, update: function (a, b, c, d, e) { return g.bindingHandlers.template.update(a, g.bindingHandlers.foreach.makeTemplateValueAccessor(b), c, d, e) } }, g.jsonExpressionRewriting.bindingRewriteValidators.foreach = !1, g.virtualElements.allowedBindings.foreach = !0, g.templateEngine = function () { }, g.templateEngine.prototype.renderTemplateSource = function (a, b, c) { throw new Error("Override renderTemplateSource") }, g.templateEngine.prototype.createJavaScriptEvaluatorBlock = function (a) { throw new Error("Override createJavaScriptEvaluatorBlock") }, g.templateEngine.prototype.makeTemplateSource = function (a, c) { if ("string" == typeof a) { c = c || b; var d = c.getElementById(a); if (!d) throw new Error("Cannot find template with ID " + a); return new g.templateSources.domElement(d) } if (1 == a.nodeType || 8 == a.nodeType) return new g.templateSources.anonymousTemplate(a); throw new Error("Unknown template type: " + a) }, g.templateEngine.prototype.renderTemplate = function (a, b, c, d) { var e = this.makeTemplateSource(a, d); return this.renderTemplateSource(e, b, c) }, g.templateEngine.prototype.isTemplateRewritten = function (a, c) { if (this.allowTemplateRewriting === !1) return !0; var d = c && c != b; return !(d || !this.knownRewrittenTemplates || !this.knownRewrittenTemplates[a]) || this.makeTemplateSource(a, c).data("isRewritten") }, g.templateEngine.prototype.rewriteTemplate = function (a, c, d) { var e = this.makeTemplateSource(a, d), f = c(e.text()); e.text(f), e.data("isRewritten", !0); var g = d && d != b; g || "string" != typeof a || (this.knownRewrittenTemplates = this.knownRewrittenTemplates || {}, this.knownRewrittenTemplates[a] = !0) }, g.exportSymbol("templateEngine", g.templateEngine), g.templateRewriting = function () { function c(a) { for (var b = g.jsonExpressionRewriting.bindingRewriteValidators, c = 0; c < a.length; c++) { var d = a[c].key; if (b.hasOwnProperty(d)) { var e = b[d]; if ("function" == typeof e) { var f = e(a[c].value); if (f) throw new Error(f) } else if (!e) throw new Error("This template engine does not support the '" + d + "' binding within its templates") } } } function d(a, b, d) { var e = g.jsonExpressionRewriting.parseObjectLiteral(a); c(e); var f = g.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(e), h = "ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { " + f + " } })()         })"; return d.createJavaScriptEvaluatorBlock(h) + b } var a = /(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi, b = /<!--\s*ko\b\s*([\s\S]*?)\s*-->/g; return { ensureTemplateIsRewritten: function (a, b, c) { b.isTemplateRewritten(a, c) || b.rewriteTemplate(a, function (a) { return g.templateRewriting.memoizeBindingAttributeSyntax(a, b) }, c) }, memoizeBindingAttributeSyntax: function (c, e) { return c.replace(a, function () { return d(arguments[6], arguments[1], e) }).replace(b, function () { return d(arguments[1], "<!-- ko -->", e) }) }, applyMemoizedBindingsToNextSibling: function (a) { return g.memoization.memoize(function (b, c) { b.nextSibling && g.applyBindingsToNode(b.nextSibling, a, c) }) } } }(), g.exportSymbol("templateRewriting", g.templateRewriting), g.exportSymbol("templateRewriting.applyMemoizedBindingsToNextSibling", g.templateRewriting.applyMemoizedBindingsToNextSibling), function () { g.templateSources = {}, g.templateSources.domElement = function (a) { this.domElement = a }, g.templateSources.domElement.prototype.text = function () { var a = g.utils.tagNameLower(this.domElement), b = "script" === a ? "text" : "textarea" === a ? "value" : "innerHTML"; if (0 == arguments.length) return this.domElement[b]; var c = arguments[0]; "innerHTML" === b ? g.utils.setHtml(this.domElement, c) : this.domElement[b] = c }, g.templateSources.domElement.prototype.data = function (a) { return 1 === arguments.length ? g.utils.domData.get(this.domElement, "templateSourceData_" + a) : void g.utils.domData.set(this.domElement, "templateSourceData_" + a, arguments[1]) }; var a = "__ko_anon_template__"; g.templateSources.anonymousTemplate = function (a) { this.domElement = a }, g.templateSources.anonymousTemplate.prototype = new g.templateSources.domElement, g.templateSources.anonymousTemplate.prototype.text = function () { if (0 == arguments.length) { var b = g.utils.domData.get(this.domElement, a) || {}; return b.textData === d && b.containerData && (b.textData = b.containerData.innerHTML), b.textData } var c = arguments[0]; g.utils.domData.set(this.domElement, a, { textData: c }) }, g.templateSources.domElement.prototype.nodes = function () { if (0 == arguments.length) { var b = g.utils.domData.get(this.domElement, a) || {}; return b.containerData } var c = arguments[0]; g.utils.domData.set(this.domElement, a, { containerData: c }) }, g.exportSymbol("templateSources", g.templateSources), g.exportSymbol("templateSources.domElement", g.templateSources.domElement), g.exportSymbol("templateSources.anonymousTemplate", g.templateSources.anonymousTemplate) }(), function () { function b(a, b, c) { for (var d, e = a, f = g.virtualElements.nextSibling(b) ; e && (d = e) !== f;) e = g.virtualElements.nextSibling(d), 1 !== d.nodeType && 8 !== d.nodeType || c(d) } function c(a, c) { if (a.length) { var d = a[0], e = a[a.length - 1]; b(d, e, function (a) { g.applyBindings(c, a) }), b(d, e, function (a) { g.memoization.unmemoizeDomNodeAndDescendants(a, [c]) }) } } function e(a) { return a.nodeType ? a : a.length > 0 ? a[0] : null } function f(b, d, f, h, i) { i = i || {}; var j = b && e(b), k = j && j.ownerDocument, l = i.templateEngine || a; g.templateRewriting.ensureTemplateIsRewritten(f, l, k); var m = l.renderTemplate(f, h, i, k); if ("number" != typeof m.length || m.length > 0 && "number" != typeof m[0].nodeType) throw new Error("Template engine must return an array of DOM nodes"); var n = !1; switch (d) { case "replaceChildren": g.virtualElements.setDomNodeChildren(b, m), n = !0; break; case "replaceNode": g.utils.replaceDomNodes(b, m), n = !0; break; case "ignoreTargetNode": break; default: throw new Error("Unknown renderMode: " + d) } return n && (c(m, h), i.afterRender && i.afterRender(m, h.$data)), m } function i(a, b) { var c = g.utils.domData.get(a, h); c && "function" == typeof c.dispose && c.dispose(), g.utils.domData.set(a, h, b) } var a; g.setTemplateEngine = function (b) { if (b != d && !(b instanceof g.templateEngine)) throw new Error("templateEngine must inherit from ko.templateEngine"); a = b }, g.renderTemplate = function (b, c, h, i, j) { if (h = h || {}, (h.templateEngine || a) == d) throw new Error("Set a template engine before calling renderTemplate"); if (j = j || "replaceChildren", i) { var k = e(i), l = function () { return !k || !g.utils.domNodeIsAttachedToDocument(k) }, m = k && "replaceNode" == j ? k.parentNode : k; return g.dependentObservable(function () { var a = c && c instanceof g.bindingContext ? c : new g.bindingContext(g.utils.unwrapObservable(c)), d = "function" == typeof b ? b(a.$data) : b, l = f(i, j, d, a, h); "replaceNode" == j && (i = l, k = e(i)) }, null, { disposeWhen: l, disposeWhenNodeIsRemoved: m }) } return g.memoization.memoize(function (a) { g.renderTemplate(b, c, h, a, "replaceNode") }) }, g.renderTemplateForEach = function (a, b, e, h, i) { var j, k = function (b, c) { var d = "function" == typeof a ? a(b) : a; return j = i.createChildContext(g.utils.unwrapObservable(b)), j.$index = c, f(null, "ignoreTargetNode", d, j, e) }, l = function (a, b, d) { c(b, j), e.afterRender && e.afterRender(b, a) }; return g.dependentObservable(function () { var a = g.utils.unwrapObservable(b) || []; "undefined" == typeof a.length && (a = [a]); var c = g.utils.arrayFilter(a, function (a) { return e.includeDestroyed || a === d || null === a || !g.utils.unwrapObservable(a._destroy) }); g.utils.setDomNodeChildrenFromArrayMapping(h, c, k, e, l) }, null, { disposeWhenNodeIsRemoved: h }) }; var h = "__ko__templateSubscriptionDomDataKey__"; g.bindingHandlers.template = { init: function (a, b) { var c = g.utils.unwrapObservable(b()); if ("string" != typeof c && !c.name && (1 == a.nodeType || 8 == a.nodeType)) { var d = 1 == a.nodeType ? a.childNodes : g.virtualElements.childNodes(a), e = g.utils.moveCleanedNodesToContainerElement(d); new g.templateSources.anonymousTemplate(a).nodes(e) } return { controlsDescendantBindings: !0 } }, update: function (a, b, c, d, e) { var h, f = g.utils.unwrapObservable(b()), j = !0; "string" == typeof f ? h = f : (h = f.name, "if" in f && (j = j && g.utils.unwrapObservable(f.if)), "ifnot" in f && (j = j && !g.utils.unwrapObservable(f.ifnot))); var k = null; if ("object" == typeof f && "foreach" in f) { var l = j && f.foreach || []; k = g.renderTemplateForEach(h || a, l, f, a, e) } else if (j) { var m = "object" == typeof f && "data" in f ? e.createChildContext(g.utils.unwrapObservable(f.data)) : e; k = g.renderTemplate(h || a, m, f, a) } else g.virtualElements.emptyNode(a); i(a, k) } }, g.jsonExpressionRewriting.bindingRewriteValidators.template = function (a) { var b = g.jsonExpressionRewriting.parseObjectLiteral(a); return 1 == b.length && b[0].unknown ? null : g.jsonExpressionRewriting.keyValueArrayContainsKey(b, "name") ? null : "This template engine does not support anonymous templates nested within its templates" }, g.virtualElements.allowedBindings.template = !0 }(), g.exportSymbol("setTemplateEngine", g.setTemplateEngine), g.exportSymbol("renderTemplate", g.renderTemplate), function () { function a(a, b, c) { for (var e = [], f = 0; f <= b.length; f++) e[f] = []; for (var f = 0, g = Math.min(a.length, c) ; f <= g; f++) e[0][f] = f; for (var f = 1, g = Math.min(b.length, c) ; f <= g; f++) e[f][0] = f; var h, j, i = a.length, k = b.length; for (h = 1; h <= i; h++) { var n = Math.max(1, h - c), o = Math.min(k, h + c); for (j = n; j <= o; j++) if (a[h - 1] === b[j - 1]) e[j][h] = e[j - 1][h - 1]; else { var p = e[j - 1][h] === d ? Number.MAX_VALUE : e[j - 1][h] + 1, q = e[j][h - 1] === d ? Number.MAX_VALUE : e[j][h - 1] + 1; e[j][h] = Math.min(p, q) } } return e } function b(a, b, c) { var e = b.length, f = c.length, g = [], h = a[f][e]; if (h === d) return null; for (; e > 0 || f > 0;) { var i = a[f][e], j = f > 0 ? a[f - 1][e] : h + 1, k = e > 0 ? a[f][e - 1] : h + 1, l = f > 0 && e > 0 ? a[f - 1][e - 1] : h + 1; (j === d || j < i - 1) && (j = h + 1), (k === d || k < i - 1) && (k = h + 1), l < i - 1 && (l = h + 1), j <= k && j < l ? (g.push({ status: "added", value: c[f - 1] }), f--) : k < j && k < l ? (g.push({ status: "deleted", value: b[e - 1] }), e--) : (g.push({ status: "retained", value: b[e - 1] }), f--, e--) } return g.reverse() } g.utils.compareArrays = function (c, e, f) { if (f === d) return g.utils.compareArrays(c, e, 1) || g.utils.compareArrays(c, e, 10) || g.utils.compareArrays(c, e, Number.MAX_VALUE); c = c || [], e = e || []; var h = a(c, e, f); return b(h, c, e) } }(), g.exportSymbol("utils.compareArrays", g.utils.compareArrays), function () { function a(a) { if (a.length > 2) { for (var b = a[0], c = a[a.length - 1], d = [b]; b !== c;) { if (b = b.nextSibling, !b) return; d.push(b) } Array.prototype.splice.apply(a, [0, a.length].concat(d)) } } function b(b, c, d, e, f) { var h = [], i = g.dependentObservable(function () { var b = c(d, f) || []; h.length > 0 && (a(h), g.utils.replaceDomNodes(h, b), e && e(d, b)), h.splice(0, h.length), g.utils.arrayPushAll(h, b) }, null, { disposeWhenNodeIsRemoved: b, disposeWhen: function () { return 0 == h.length || !g.utils.domNodeIsAttachedToDocument(h[0]) } }); return { mappedNodes: h, dependentObservable: i } } var c = "setDomNodeChildrenFromArrayMapping_lastMappingResult"; g.utils.setDomNodeChildrenFromArrayMapping = function (e, f, h, i, j) { f = f || [], i = i || {}; for (var k = g.utils.domData.get(e, c) === d, l = g.utils.domData.get(e, c) || [], m = g.utils.arrayMap(l, function (a) { return a.arrayEntry }), n = g.utils.compareArrays(m, f), o = [], p = 0, q = [], r = 0, s = [], t = null, u = 0, v = n.length; u < v; u++) switch (n[u].status) { case "retained": var w = l[p]; w.indexObservable(r), r = o.push(w), w.domNodes.length > 0 && (t = w.domNodes[w.domNodes.length - 1]), p++; break; case "deleted": l[p].dependentObservable.dispose(), a(l[p].domNodes), g.utils.arrayForEach(l[p].domNodes, function (a) { q.push({ element: a, index: u, value: n[u].value }), t = a }), p++; break; case "added": var x = n[u].value, y = g.observable(r), z = b(e, h, x, j, y), A = z.mappedNodes; r = o.push({ arrayEntry: n[u].value, domNodes: A, dependentObservable: z.dependentObservable, indexObservable: y }); for (var B = 0, C = A.length; B < C; B++) { var D = A[B]; s.push({ element: D, index: u, value: n[u].value }), null == t ? g.virtualElements.prepend(e, D) : g.virtualElements.insertAfter(e, D, t), t = D } j && j(x, A, y) } g.utils.arrayForEach(q, function (a) { g.cleanNode(a.element) }); var E = !1; if (!k) { if (i.afterAdd) for (var u = 0; u < s.length; u++) i.afterAdd(s[u].element, s[u].index, s[u].value); if (i.beforeRemove) { for (var u = 0; u < q.length; u++) i.beforeRemove(q[u].element, q[u].index, q[u].value); E = !0 } } if (!E && q.length) for (var u = 0; u < q.length; u++) { var F = q[u].element; F.parentNode && F.parentNode.removeChild(F) } g.utils.domData.set(e, c, o) } }(), g.exportSymbol("utils.setDomNodeChildrenFromArrayMapping", g.utils.setDomNodeChildrenFromArrayMapping), g.nativeTemplateEngine = function () { this.allowTemplateRewriting = !1 }, g.nativeTemplateEngine.prototype = new g.templateEngine, g.nativeTemplateEngine.prototype.renderTemplateSource = function (a, b, c) { var d = !(g.utils.ieVersion < 9), e = d ? a.nodes : null, f = e ? a.nodes() : null; if (f) return g.utils.makeArray(f.cloneNode(!0).childNodes); var h = a.text(); return g.utils.parseHtmlFragment(h) }, g.nativeTemplateEngine.instance = new g.nativeTemplateEngine, g.setTemplateEngine(g.nativeTemplateEngine.instance), g.exportSymbol("nativeTemplateEngine", g.nativeTemplateEngine), function () { g.jqueryTmplTemplateEngine = function () { function c() { if (a < 2) throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.") } function d(a, b, c) { return jQuery.tmpl(a, b, c) } var a = this.jQueryTmplVersion = function () { if ("undefined" == typeof jQuery || !jQuery.tmpl) return 0; try { if (jQuery.tmpl.tag.tmpl.open.toString().indexOf("__") >= 0) return 2 } catch (a) { } return 1 }(); this.renderTemplateSource = function (a, e, f) { f = f || {}, c(); var g = a.data("precompiled"); if (!g) { var h = a.text() || ""; h = "{{ko_with $item.koBindingContext}}" + h + "{{/ko_with}}", g = jQuery.template(null, h), a.data("precompiled", g) } var i = [e.$data], j = jQuery.extend({ koBindingContext: e }, f.templateOptions), k = d(g, i, j); return k.appendTo(b.createElement("div")), jQuery.fragments = {}, k }, this.createJavaScriptEvaluatorBlock = function (a) { return "{{ko_code ((function() { return " + a + " })()) }}" }, this.addTemplate = function (a, c) { b.write("<script type='text/html' id='" + a + "'>" + c + "</script>") }, a > 0 && (jQuery.tmpl.tag.ko_code = { open: "__.push($1 || '');" }, jQuery.tmpl.tag.ko_with = { open: "with($1) {", close: "} " }) }, g.jqueryTmplTemplateEngine.prototype = new g.templateEngine; var a = new g.jqueryTmplTemplateEngine; a.jQueryTmplVersion > 0 && g.setTemplateEngine(a), g.exportSymbol("jqueryTmplTemplateEngine", g.jqueryTmplTemplateEngine) }()
    })
}(window, document, navigator);