@{
    ViewBag.Title = "Login";
}
@{
    Layout = "~/Views/Shared/_LayoutRegistration.cshtml";
    
}
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-center about-us">
                <h2>Defensive Driving Online Class</h2>
            </div>
            <div class="col-md-8 cousrse-12">
                <p>To re-enter your course where you left off, please enter you e-E-mail and password below or Register account:</p>
                <form class="form-horizontal">
                    <h4 class="sign-in">Sign Up</h4>
                    <div class="form-group">
                        <label for="inputName" class="col-sm-2 control-label">FullName</label>
                        <div class="col-sm-10 col-md-8">
                            <input type="text" class="form-control pressenter Require" id="inputName" placeholder="Name">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="txtDOB" class="col-sm-2 control-label">DOB</label>
                        <div class="col-sm-10 col-md-8">
                            <input type="text" class="form-control pressenter Require" id="txtDOB" placeholder="DOB">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="Gender" class="col-sm-2 control-label">Gender</label>
                        <div class="col-sm-2">
                            <label for="Gender" style="text-align: left; font-size: 14px; font-weight: 400;">Male &nbsp&nbsp&nbsp&nbsp</label>
                            <input id="Gender" class="pressenter" name="Gender" type="radio" value="Male" />
                        </div>
                        <div class="col-sm-2">
                            <label for="Female" style="text-align: left; font-size: 14px; font-weight: 400;">Female&nbsp&nbsp&nbsp&nbsp</label>
                            <input id="Female" class="pressenter" name="Gender" type="radio" value="Female" />
                        </div>
                        <div class="col-sm-4"></div>
                    </div>
                    <div class="form-group">
                        <label for="inputPhone" class="col-sm-2 control-label" >Phone</label>
                        <div class="col-sm-10 col-md-8">
                            <input type="text" class="form-control pressenter Require" id="inputPhone" onblur="ChangePhoneFormat()" placeholder="Phone">
                        </div>
                    </div>
                @*    <div class="form-group">
                        <label for="inputCellular" class="col-sm-2 control-label">Cellular</label>
                        <div class="col-sm-10 col-md-8">
                            <input type="text" class="form-control" id="inputCellular" placeholder="Cellular">
                        </div>
                    </div>*@
                    <div class="form-group">
                        <label for="txtAddress" class="col-sm-2 control-label">Address</label>
                        <div class="col-sm-10 col-md-8">
                            <input type="text" class="form-control Require pressenter" id="txtAddress" placeholder="Address"></input>
                        </div>
                    </div>

                     <div class="form-group">
                        <label  class="col-sm-2 control-label"></label>
                        <div class="col-sm-10 col-md-8">
                            <select id="txtState" class="pressenter Require inputAdress">
                               
                                 <option value="Alabama">Alabama</option>
                                 <option value="Alaska">Alaska</option>
                                 <option value="Arizona">Arizona</option>
                                 <option value="Arkansas">Arkansas</option>
                                 <option value="California">California</option>
                                 <option value="Colorado">Colorado</option>
                                 <option value="Connecticut">Connecticut</option>
                                 <option value="Delaware">Delaware</option>
                                 <option value="Florida">Florida</option>
                                <option value="Georgia">Georgia</option>
                                 <option value="Hawaii">Hawaii</option>
                                 <option value="Idaho">Idaho</option>
                                 <option value="Illinois">Illinois</option>
                                 <option value="Indiana">Indiana</option>
                                 <option value="Iowa">Iowa</option>
                                 <option value="Kansas">Kansas</option>
                                 <option value="Kentucky">Kentucky</option>
                                 <option value="Louisiana">Louisiana</option>
                                 <option value="Maine">Maine</option>
                                 <option value="Maryland">Maryland</option>
                                 <option value="Massachusetts">Massachusetts</option>
                                 <option value="Michigan">Michigan</option>
                                 <option value="Minnesota">Minnesota</option>
                                 <option value="Mississippi">Mississippi</option>
                                 <option value="Missouri">Missouri</option>
                                 <option value="Montana">Montana</option>
                                 <option value="Nebraska">Nebraska</option>
                                 <option value="Nevada">Nevada</option>
                                 <option value="New Hampshire">New Hampshire</option>
                                 <option value="New Jersey">New Jersey</option>
                                 <option value="New Mexico">New Mexico</option>
                                 <option value="New York">New York</option>
                                 <option value="North Carolina">North Carolina</option>
                                 <option value="North Dakota">North Dakota</option>
                                 <option value="Ohio">Ohio</option>
                                 <option value="Oklahoma">Oklahoma</option>
                                 <option value="Oregon">Oregon</option>
                                 <option value="Pennsylvania">Pennsylvania</option>
                                 <option value="Rhode Island">Rhode Island</option>
                                 <option value="South Carolina">South Carolina</option>
                                 <option value="South Dakota">South Dakota</option>
                                 <option value="Tennessee">Tennessee</option>
                                 <option value="Texas">Texas</option>
                                 <option value="Utah">Utah</option>
                                 <option value="Vermont">Vermont</option>
                                 <option value="Virginia">Virginia</option>
                                 <option value="Washington">Washington</option>
                                 <option value="West Virginia">West Virginia</option>
                                 <option value="Wisconsin">Wisconsin</option>
                                 <option value="Wyoming">Wyoming</option>
                                
                            </select>&nbsp&nbsp
                           
                               @* <input type="text" id="txtState" class="pressenter Require inputAdress"  placeholder="State" />&nbsp&nbsp*@
                                  <input type="text" id="txtCity" class="pressenter Require inputAdress"  placeholder="City"  />&nbsp&nbsp
                                 <input type="text" id="txtZip" class="pressenter Require inputAdress" placeholder="Zip" />&nbsp&nbsp
                           
                           @* <input type="text" class="form-control Require" id="txtAddress" placeholder="Address"></input>*@
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="txtNJDL" class="col-sm-2 control-label">NJDL#</label>
                        <div class="col-sm-10 col-md-8">
                            <input type="text" class="form-control  pressenter Require" id="txtNJDL" placeholder="NJDL#">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="txtEyeColor" class="col-sm-2 control-label">Eye Color</label>
                        <div class="col-sm-10 col-md-8">
                            <input type="text" class="form-control pressenter Require" id="txtEyeColor" placeholder="EYE Color">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputEmail" class="col-sm-2 control-label">Email</label>
                        <div class="col-sm-10 col-md-8">
                            <input type="email" class="form-control pressenter Require" id="inputEmail" placeholder="Email">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputComment" class="col-sm-2 control-label">Comment</label>
                        <div class="col-sm-10 col-md-8">
                            <textarea class="form-control pressenter" id="inputComment" placeholder="Comment"></textarea>
                           
                        </div>
                        <label class="control-label">**All Highlighted fields are required</label>
                    </div>

                 @*     <div class="form-group">
                        <label for="" class="col-sm-2 control-label"></label>
                        <div class="col-sm-10 col-md-8">
                            All fields are require
                        </div>
                    </div>*@

                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-8">
                            <button type="button" id="btnregister" class="btn btn-primary">Register</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-md-4 images-slid">
                <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                        <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                        <li data-target="#carousel-example-generic" data-slide-to="2"></li>
                    </ol>
                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" role="listbox">
                        <div class="item active">
                            <img src="/img/pic2.jpg" alt="...">
                            <div class="carousel-caption">
                            </div>
                        </div>
                        <div class="item">
                            <img src="/img/pic1.jpg" alt="...">
                            <div class="carousel-caption">
                            </div>
                        </div>
                    </div>
                    <!-- Controls -->
                    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</body>
@section scripts
{
    <script>
        $(function () {
            $('.loadercont').fadeOut();
            //$('#txtDOB').datepicker();
            $('#txtState').val('New Jersey');

            $('#txtDOB').datepicker({
                changeMonth: true,
                changeYear: true,
                yearRange: "-116:+0",
            });


        });
        $("#btnregister").click(function () {
            debugger;
            $('.loadercont').fadeIn();
            FullName = $('#inputName').val();
            Phone = $('#inputPhone').val();
           
            //Cellular = $('#inputCellular').val();
            Email = $('#inputEmail').val();
            Comment = $('#inputComment').val();

            Address = $('#txtAddress').val();
            State = $('#txtState').val();
            City = $('#txtCity').val();
            zip = $('#txtZip').val();

            NJDL = $('#txtNJDL').val();
            DOB = $('#txtDOB').val();
            Eyecolor = $('#txtEyeColor').val();
          
            Gender = $("input[name=Gender]:checked").val();

            if (FullName == "") {
                $('.loadercont').fadeOut();
                alert("Please enter Name")
                return;
            }
            if (DOB == "") {
                $('.loadercont').fadeOut();
                alert("Please enter Date of Birth")
                return;
            }
            if (Gender == undefined) {
                $('.loadercont').fadeOut();
                alert("Please Select Your Gender")
                return;
            }
            if (Phone == "") {
                $('.loadercont').fadeOut();
                alert("Please enter Phone")
                return;
            }
            //if (Cellular == "") {
            //    $('.loadercont').fadeOut();
            //    alert("Please enter Cellular")
            //    return;
            //}
            if (Address == "") {
                $('.loadercont').fadeOut();
                alert("Please enter Address")
                return;
            }
            if (State == "") {
                $('.loadercont').fadeOut();
                alert("Please enter State")
                return;
            }
            if (City == "") {
                $('.loadercont').fadeOut();
                alert("Please enter City")
                return;
            }
            if (zip == "") {
                $('.loadercont').fadeOut();
                alert("Please enter Zip")
                return;
            }
            if (NJDL == "") {
                $('.loadercont').fadeOut();
                alert("Please enter NJDL#")
                return;
            }

            if (Eyecolor == "") {
                $('.loadercont').fadeOut();
                alert("Please enter EyeColor")
                return;
            }

            if (Email == "") {
                $('.loadercont').fadeOut();
                alert("Please enter Email")
                return;
            }
            if (!ValidateEmail(Email)) {
                $('.loadercont').fadeOut();
                $('.loadercont').fadeOut();
                alert('not a valid e-mail address');
                return;
            }

            data = { FullName: FullName, Phone: Phone, Email: Email, Comment: Comment, Address: Address, NJDL: NJDL, DOB: DOB,Eyecolor: Eyecolor, Gender: Gender,State: State,City:City,Zip:zip }

            $.ajax({
                type: "POST",
                url: "/Home/RegisterUser",
                data: data,
                dataType: "json",
                success: function (response) {
                    if (response == 1) {
                        window.location.href = "/User/NotActiveUser"
                    }
                    else {
                        alert("Email Already Exist")
                    }
                    $('.loadercont').fadeOut();

                },
                error: function (response) {
                    $('.loadercont').fadeOut();
                    alert("Error");
                }
            });
        });
       

        function ChangePhoneFormat() {
            // Validate email format
            var phoneformat = $('#inputPhone').val();
            if (phoneformat.length == 10) {
                text = phoneformat.replace(/(\d\d\d)(\d\d\d)(\d\d\d\d)/, "($1) $2-$3");
                $('#inputPhone').val(text);
            }
        };

        function ValidateEmail(email) {
            // Validate email format
            var expr = /^([\w-\.]+)@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
            return expr.test(email);
        };

        $("#txtZip").keypress(function (e) {

            if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                //display error message
                return false;
            }
        });
        $("#inputPhone").keypress(function (e) {

            if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                //display error message
                return false;
            }
        });

        $("#inputCellular").keypress(function (e) {
            //if the letter is not digit then display error and don't type anything
            if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                //display error message

                return false;
            }
        });

        $(".pressenter").keypress(function (e) {
            if (e.which == 13) {
                e.preventDefault();
                $("#btnregister").click();
            }
        });
    </script>
}

